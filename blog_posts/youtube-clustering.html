<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Anton Johansson</title>
    <link rel="stylesheet" href="../styles/styleIndexColumn.css">
    <link rel="stylesheet" href="../styles/blogstyleReform.css">
</head>
<body>

<!--Slight issue when going from one of the boxes to the blog posts, and then clearing the field
when backing later then the field is still cleared but the items that are shown are as if the string was still
being searched for.-->

<!--<div id="aa"></div>-->

<div id="d1">
    <div id="headerGrid">
        
        <p class="zeroSpacep">Hello, I'm</p>
        <div id="headerGrid1">
        <span id="titleName" onclick="location.href='../index.html';">Anton</span>
        </div>

        <div id="headerGrid2">
            <div class="buttonWrapper"><button id="roundBtn" class="infoBtns mainSiteColor buttonShadow mainFontColor" onclick="location.href='blogHome.html';">Blog</button><button id="roundBtn" class="infoBtns mainSiteColor buttonShadow" onclick="location.href='../About/about.html';">About</button><button id="roundBtnGit" class="infoBtns buttonShadow" onclick="location.href='https://github.com/antonFJohansson';"></button></div>
        </div>
    </div>
</div>

<div id="d2">

    <div id="rightGrid">
            
        <div id="main" class="mainItems">
          
            <div id="contentTitle">Clustering Playlists on Youtube</div>
            <h2><strong>Overview</strong></h2>
            <div class="contentText">
            I created a Python program to automatically generate youtube playlists containing videos dealing with similar topics. These playlists were generated by using the Latent Dirichlet Allocation model on the subtitles for all videos on a given channel. 
            An excerpt of the created playlists can be seen below for the channel <a href="https://www.youtube.com/channel/UCzGLDaTu81nJDtWK10MniGg">Mike Thurston</a> that is a fitness and variety channel.<br/>
            The discovered topics and associated videos were as follows
            <hr>
            <ul>
                <li>Topics for playlist 1: <strong>rep, shoulder, chest</strong>.<br/> The three top most associated videos with this playlist were:
                <ol>
                    <li>Common Gym Mistakes - Training Legs</li>
                    <li>Common Gym Mistakes - Training Back</li>
                    <li>The Most Effective Bicep & Tricep Exercises</li>
                </ol>
                </li>
                
                <li>Topics for playlist 2: <strong>music, year, life</strong>.<br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>How I Got To Where I Am Today</li>
                        <li>Goodbye London, Hello Dubai</li>
                        <li>Q&A With Mike Thurston</li>
                    </ol>
                    </li>

                    <li>Topics for playlist 3: <strong>calori, eat, fat</strong>.<br/> The three top most associated videos with this playlist were:
                        <ol>
                            <li>How Much Body Fat Can You Lose In A Week?</li>
                            <li>Calculating Your Macros - The Basics</li>
                            <li>What Should You Eat For Breakfast?</li>
                        </ol>
                        </li>
            </ul>
            
            <hr>   
            It can be seen that the playlists contain thematically similar videos in most cases. Thus the program provides an easy way to create playlists for un-organized youtube channels. If the general methods behind this is interesting to you and you want to find out more, please keep reading. The code can be found on <a href = "https://github.com/antonFJohansson/youtube-clustering">github</a>.
           </div>
            <h2><strong>Introduction</strong></h2>
            <div class="contentText">
            Youtube playlists is a feature of youtube where the channel owner can choose to group similarly themed channels together into one long playlist of videos. It is not difficult to imagine a scenario where people find this feature is useful, e.g, 
            
            <ul>
                <li>Playlists for specific courses on educational channels make it easier for the viewers/students to follow the material in the intended order.</li>
                <li>Travel blogs could be interested in grouping videos together that took place in the same country.</li>
                <li>Video game channels can have "Let's play" series for different games. A playlist for each game could therefore be of interest.</li>
            </ul>
            
            An issue though is that this can take time to create. If one has not been proactive in regards to grouping similarly themed videos together, finding all videos that talk about a similar topic can be a daunting task. Thus I sought out to create a system which could automatically give suggestions for playlists given only the channels home page and the desired number of playlists. I do this by clustering/grouping together videos based on their content.
           </div>
            <h2><strong>Method</strong></h3>
               <div class="contentText">
            In order to group videos together based on their content, we first need to have an easy way to retrieve the content of the video. For many videos this is not immediately clear, the title might not revealing, neither the description of the video. Thus what felt as the safest option to try was to group the videos together based on the subtitles of the videos. If two videos are related to each other, then this will most likely be possible to deduce from the subtitles (given that the content creator is actually talking in the video). The grouping was therefore performed by using the subtitles of the videos. This raises two immediate questions
            <br>
            <br>
            <ol>
                <li>What do we do when no subtitles have been added to a video?</li>
                <li>How do we easily group together videos based only on the text in the subtitles?</li>
            </ol>
             The answer to the first question is that we use the <i>youtube-transcript-api</i> to access the automatically generated subtitles, and for the second question the answer is that we use what is known as the <i>Latent Dirichlet Allocation (LDA)</i> model.
           </div>
             <h2><strong>Retrieving and cleaning subtitles</strong></h2>
             <div class="contentText">
            While it is easy to retrieve information regarding uploaded videos with the help of the official youtube-api, I found that retrieving subtitles with their api was a bit clunky and thus I resorted to <i>youtube-transcript-api</i>. Retrieving video information with the youtube-api unfortunately costs quotas (you get a set amount of quota each day to use). Thus there is a limit on the amount of channels you can create playlists for per day. This limit is quite large though so for regular use it probably is nothing to worry about.
            
            In order to separate videos into different playlists we need to find the words that are informative, that separates the content of one video from another. For example, for videos regarding astronomy the informative words could be words such as "stars, sun, planets" while for shark videos it is likely to be words such as "shark, sea, scary". It is these key words that will help group the videos together to form our playlists. In order to make this process easier, we perform two preprocessing steps to clean the subtitles.
            <br>
            <br>
            <ol>
                <li>We remove <i>stop words</i>, i.e, words that are common to all videos and are thus not informative. These are words such as "the, at, is".</li>
                <li>Lemmatizing and stemming the subtitles. LDA uses a bag of words model which considers all words as completely separate units. This can be problematic when we start to consider inflections of words. Words such as "scary, scarier, scariest" all describe the same underlying topic, but a bag of words model will see these words as three completely separate units. It can be harder for the LDA model to discover that the underlying topic of the video is something scary when there are different representations for the informative words. Thus lemmatization and stemming helps us with this issue by reducing the words to a common denominator. The difference between these two are as follows:
                    <ul>
                        <li>Lemmatization: It is the process of using a dictionary and morphological analysis to return a word to its base form. The word "better" is converted to the word "good" through lemmatization.</li>
                        <li>Stemming: Stemming is a more crude process but faster and works in more general settings. It is the process of cutting of part of a word to obtain a base form. For example, if a word ends with "ies" then that part is cut off and replaced with "i". So the word "ponies" would be stemmed to the word "poni".</li>
                    </ul>

                </li>

            </ol>
            These pre-processing steps are used to obtain the final set of subtitles on which we apply the LDA model. Note that the preprocessing steps for small channels and large channels might be different. For large channels, stop words can be commonly occuring in most videos while for smaller channels this might not be the case. It can therefore be important to try some different preprocessing steps to see what yields the best results.
           </div>
            <h2><strong>LDA</strong></h2>
            <div class="contentText">
            LDA is a Bayesian graphical model. If you are not familiar with it or with the involved terms, don't worry, there are many great descriptions to it online, see <a href="https://engineering.flipboard.com/2017/02/storyclustering">fast implementation</a>, <a href="https://ai.stanford.edu/~ang/papers/jair03-lda.pdf">original article</a>, <a href="http://ivan-titov.org/teaching/nlp1-15/nlp1-l3.pdf">lecture notes</a>. I am not going to retread the same explanations that they have but simply refer the interested reader to the references instead. For this post, I am merely going to detail why the LDA model was thought to be a good choice for this project.
            <br>
            <br>
            <ol>
                <li>The LDA model is easily available with Python packages such as <i>Gensim</i>. This makes it easy to quickly try the model and evaluate it. In this case it turned out to work well enough that no other method was implemented.</li>
                <li>It is an unsupervised model, thus allowing the program to discover groups of videos naturally on its own. No step is required where the user has to painstakingly create a labelled set of videos first to train the program with.</li>
                <li>Cluster descriptions come naturally, the top words that describe a cluster can easily be found (though the words will be pre-processed and might look strange). This makes it easy for the user to get an overview of the content in the created playlist.</li>
            </ol>
            
            These properties made it an attractive model to work with and thus what was implemented.
           </div>
            <h2><strong>Results</strong></h2>
            <div class="contentText">
            I tried the program on different youtube channels. Below I detail some of the channels I tried it on and the discovered topics. The program groups all the videos belong to one topic together and creates playlists form those videos. Below I detail the resulting playlists for two different channels
            <br>
            <br>
            <ul>
                <li><a href="https://www.youtube.com/c/KaraandNate/videos">Kara and Nate</a>: Travel vlog channel. I set the number of desired playlists to 4.</li>
                <li><a href="https://www.youtube.com/user/TEDEducation">Ted-ed</a>: A general educational channel with 10 - 30 minute lectures about a variety of topics. I set the number of desired playlists to 10 (I only display 5 of the playlists below due to space constraints).</li>
            </ul>
            
            <hr />
            <ul>
                <li> (Kara and Nate) Topics for playlist 1: <strong>drive, hike, mountain</strong><br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>VAN LIFE IS OFF TO A ROUGH START - Vancouver to Kelowna </li>
                        <li>Day 10 : Everest Base Camp Trek - Cho La Pass</li>
                        <li>Day 9 : Everest Base Camp Trek - Kala Pattar</li>
                    </ol>
                </li>
                <li>
                    (Kara and Nate) Topics for playlist 2: <strong>loung, airport, flight</strong><br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>Johannesburg to Zanzibar, Tanzania - South African Airways - Shongololo Lounge  </li>
                        <li>STUCK IN KENYA</li>
                        <li>Sleeping in the Bangkok Airport - BKK</li>
                    </ol>
                </li>
                <li>
                    (Kara and Nate) Topics for playlist 3: <strong>coffe, citi, car</strong><br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>First Impressions of Stockholm - Swedish Meatballs & Fika!</li>
                        <li>RIDING CAMELS THROUGH THE SAHARA - MOROCCO </li>
                        <li>Day Trip to Seville, Spain!</li>
                    </ol>
                </li>
                <li>
                    (Kara and Nate) Topics for playlist 4: <strong>boat, island, beach</strong><br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>Koh Tao, Thailand TERRIFYING NIGHT DIVING - PADI Certification at Sairee Cottage</li>
                        <li>First Impressions of ANTARCTICA! (our 7th continent)</li>
                        <li>FIRST CARIBBEAN ISLAND! - 15 Day Repositioning Cruise</li>
                    </ol>
                </li>
        </ul>
            <hr>
            <ul>
                <li>(Ted-ed) Topics for playlist 1: <strong>countri, school, children</strong>.<br/> The three top most associated videos with this playlist were:
                <ol>
                    <li>Hans Rosling: Let my dataset change your mindset</li>
                    <li>Hans Rosling: Debunking third-world myths with the best stats you've ever seen</li>
                    <li>Hans Rosling: The good news of the decade?</li>
                </ol>
                </li>

                <li>(Ted-ed) Topics for playlist 2: <strong>brain, cell, patient</strong>.<br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>A life-saving device that detects silent heart attacks</li>
                        <li>A simple new blood test that can catch cancer early</li>
                        <li>Dr. Dean Ornish: Your genes are not your fate</li>
                    </ol>
                    </li>
                    
                <li>(Ted-ed) Topics for playlist 3: <strong>water, food, ocean</strong>.<br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>Sylvia Earle: How to protect the oceans (TED Prize winner!) </li>
                        <li>Asha de Vos: Why you should care about whale poo</li>
                        <li>How pollution is changing the ocean's chemistry</li>
                    </ol>
                    </li>
                <li>(Ted-ed) Topics for playlist 4: <strong>polit, state, power</strong>.<br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>Maajid Nawaz: A global culture to fight extremism </li>
                        <li>Zahra' Langhi: Why Libya's revolution didn't work -- and what might</li>
                        <li>Mustafa Akyol: Faith versus tradition in Islam</li>
                    </ol>
                </li>
                <li>(Ted-ed) Topics for playlist 5: <strong>play, sort, video</strong>.<br/> The three top most associated videos with this playlist were:
                    <ol>
                        <li>Ryan Merkley: Online video -- annotated, remixed and popped </li>
                        <li>Lightning calculation and other "mathemagic"</li>
                        <li>10 top time-saving tech tips </li>
                    </ol>
                </li>
            </ul>
            <hr />
            We can thus see that the algorithm managed to create separate playlists that seem to capture different video topics. For Mike Thurston we can see that we get a playlist with training videos, one regarding his general life and one about diet. Likewise we can see that we get easily understandable playlists for the Ted-ed channel.
           </div>
            <h2><strong>Future work</strong></h2>
            <div class="contentText">
            An issue with the LDA model is that the number of playlists has to be specified in advance. This is problematic since if one specifies too few playlists then videos which do not contain thematically similar content will be grouped together, while if one specifies too many playlists one will get playlists with very few videos in them. Thus future work should investigate ways to speed up the process of obtaining the playlists so they can be explored quickly to see if more or less playlists are needed.
           </div>
      
</div>
      
          <!--<button id="leftMainBtn" class="flipPageBtn" onclick="goToRecentPosts()">Newer Posts</button> <button id="rightMainBtn" class="rightMainBtn flipPageBtn" onclick="goToPreviousPosts()">Older Posts</button>    -->



</div>

</div>

  



<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
 <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
 
    <!--<script src="scripts/utilsIndex.js"></script>-->

</body>
</html>